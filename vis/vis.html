<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>pequod experiment details</title>
    <link href="layout.css" rel="stylesheet" type="text/css">
    <script language="javascript" type="text/javascript" src="vis.js"></script>
    <script language="javascript" type="text/javascript" src="jquery.js"></script>
    <script language="javascript" type="text/javascript" src="jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="jquery.flot.axislabels.js"></script>
    <script language="javascript" type="text/javascript" src="jquery.flot.fillbetween.js"></script>
    <script language="javascript" type="text/javascript" src="jquery.flot.symbol.js"></script>
  </head>
  <body>

   <table>
     <tr>
       <td> <input type="file" id="files" name="files[]" multiple='false' size='80'/> </td>
     </tr>
     <tr>
       <td> <output id="output"></output> </td>
     </tr>
     <tr>
       <td> <div id="graphs" style="width:800px;height:300px"></div> </td>
     </tr>
   </table>

<script type="text/javascript">
if (!window.File || !window.FileReader || !window.FileList || !window.Blob)
  alert('The File APIs are not fully supported in this browser.');

document.getElementById('files').addEventListener('change', handleFileSelect, false);

function handleFileSelect(evt) {
  var f = evt.target.files[0]; // FileList object
  var r = new FileReader();
  r.onload =
      function(e) { 
        loadJson(e.target.result);
      }
  r.readAsText(f);
}

function loadJson(raw) {
  try {
    redraw(JSON.parse(raw));
  } catch (e) {
    alert(e);
  }
}

</script>

  </body>
</html>
